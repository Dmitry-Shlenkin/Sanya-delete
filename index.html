<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8" />
        <title>Измерение мощности 3G-сигнала</title>
    </head>
    <body>
        <p>Мощность 3G-сигнала: <span id="signal"></span></p>

        <script>
            function check() {
                if (navigator.connection) {
                    var type = navigator.connection.type;
                    if (type) {
                        if (type == "cellular") {
                            alert("1234123412341234");
                        } else if (type == "wifi") {
                            alert("wifi ile bağlandınız");
                        } else {
                            alert("tip anlaşılamadı");
                        }
                    }
                } else {
                    alert("Desteklenmiyor");
                }
            }

            check();
            // Получение объекта NetworkInformation
            var connection =
                navigator.connection ||
                navigator.mozConnection ||
                navigator.webkitConnection;
            var type = connection.type;
            console.log(connection);
            function updateConnectionStatus() {
                alert(
                    "Connection type is change from " +
                        type +
                        " to " +
                        connection.type
                );
            }

            connection.addEventListener("typechange", updateConnectionStatus);
            var networkInfo = navigator.connection;
            console.log(navigator.connection.effectiveType);
            console.log(
                `Connection type changed from ${type} to ${navigator.connection.effectiveType}`
            );

            // Обработчик изменения состояния соединения
            networkInfo.addEventListener("change", function () {
                var signalStrength = networkInfo.rssi;
                document.getElementById("signal").innerHTML =
                    signalStrength + "dBm";
            });
        </script>
    </body>
</html>
